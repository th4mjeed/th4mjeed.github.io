<!doctype html><html lang=en dir=auto data-theme=dark><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Setting up the Community Edition of IBM LSF (Load Sharing Facility) | th4mjeed</title><meta name=keywords content><meta name=description content="
Introduction
I wanted to understand how LSF actually works, not just at a surface “submit job, job runs” level, but the real mechanics. Most places that use LSF don’t document it well, and when they do, it’s written assuming you already run a production cluster.
So I decided to build a small LSF Community Edition cluster at home and treat it like an EDA-style environment: master node, execution nodes, login-style submission, interactive jobs, X11, the whole thing."><meta name=author content="Thamjeed"><link rel=canonical href=http://localhost:1313/posts/setting-up-community-edition-lsf/><link crossorigin=anonymous href=/assets/css/stylesheet.fde665597d1ffebd00cc9ba2cd6aed5b8855880ddf943c59640dcc99d68f5505.css integrity="sha256-/eZlWX0f/r0AzJuizWrtW4hViA3flDxZZA3MmdaPVQU=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/setting-up-community-edition-lsf/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="http://localhost:1313/posts/setting-up-community-edition-lsf/"><meta property="og:site_name" content="th4mjeed"><meta property="og:title" content="Setting up the Community Edition of IBM LSF (Load Sharing Facility)"><meta property="og:description" content=" Introduction I wanted to understand how LSF actually works, not just at a surface “submit job, job runs” level, but the real mechanics. Most places that use LSF don’t document it well, and when they do, it’s written assuming you already run a production cluster.
So I decided to build a small LSF Community Edition cluster at home and treat it like an EDA-style environment: master node, execution nodes, login-style submission, interactive jobs, X11, the whole thing."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-14T00:00:00+00:00"><meta property="article:modified_time" content="2026-01-14T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Setting up the Community Edition of IBM LSF (Load Sharing Facility)"><meta name=twitter:description content="
Introduction
I wanted to understand how LSF actually works, not just at a surface “submit job, job runs” level, but the real mechanics. Most places that use LSF don’t document it well, and when they do, it’s written assuming you already run a production cluster.
So I decided to build a small LSF Community Edition cluster at home and treat it like an EDA-style environment: master node, execution nodes, login-style submission, interactive jobs, X11, the whole thing."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Setting up the Community Edition of IBM LSF (Load Sharing Facility)","item":"http://localhost:1313/posts/setting-up-community-edition-lsf/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Setting up the Community Edition of IBM LSF (Load Sharing Facility)","name":"Setting up the Community Edition of IBM LSF (Load Sharing Facility)","description":" Introduction I wanted to understand how LSF actually works, not just at a surface “submit job, job runs” level, but the real mechanics. Most places that use LSF don’t document it well, and when they do, it’s written assuming you already run a production cluster.\nSo I decided to build a small LSF Community Edition cluster at home and treat it like an EDA-style environment: master node, execution nodes, login-style submission, interactive jobs, X11, the whole thing.\n","keywords":[],"articleBody":" Introduction I wanted to understand how LSF actually works, not just at a surface “submit job, job runs” level, but the real mechanics. Most places that use LSF don’t document it well, and when they do, it’s written assuming you already run a production cluster.\nSo I decided to build a small LSF Community Edition cluster at home and treat it like an EDA-style environment: master node, execution nodes, login-style submission, interactive jobs, X11, the whole thing.\nThis post is not a clean guide. It’s more like notes from what actually happened.\nChapter 1: Why LSF and Not Slurm I already have experience with Slurm, and I even wrote about using Slurm as a compilation farm. Slurm is straightforward. LSF is not.\nBut that’s exactly why I wanted to learn it.\nLSF still shows up in EDA, semiconductor companies, and older HPC environments. And the way it thinks about hosts, submission, and execution is very different from Slurm.\nIn Slurm, a login node is mostly just a machine that can talk to slurmctld.\nIn LSF, every host must be known, typed, and classified. Even submit-only machines.\nThat difference alone is worth learning.\nChapter 2: The Cluster Layout I Used I kept the setup intentionally small.\nlsf-master\nRuns LIM, mbatchd, acts as master candidate.\nlsf-node1\nExecution node.\nfedora\nMy Fedora workstation, acting as a login / submission host.\nAll machines could resolve each other via /etc/hosts. No DNS magic.\nI used Rocky Linux for lsf-master and lsf-node1, and Fedora for my submission machine.\nChapter 3: Getting LSF This part deserves its own chapter because this is where things already got weird.\nThere is no obvious “download LSF” button.\nI actually found the IBM Spectrum LSF Community Edition through a Reddit post. That post linked to IBM’s site, which then required me to:\nCreate an IBM account Log in Accept licensing terms Navigate through IBM’s download portal Only after all that was I able to download the tarball.\nWhat I ended up with was something like:\nlsfsce10.2.0.15-x86_64.tar.Z This already tells you something important:\nIBM ships prebuilt binaries They are tied to a specific glibc and kernel baseline That becomes important later when Fedora starts complaining.\nChapter 3.1: Extracting the Tarball On the master node (lsf-master), I extracted it under /tmp first:\ntar -xvf lsfsce10.2.0.15-x86_64.tar.Z cd lsfsce10.2.0.15-x86_64 Inside, you don’t get a fancy installer. You get scripts.\nThe real entry point is:\n./lsfinstall But do not run it blindly.\nChapter 3.2: install.config Is the Real Installer LSF installation is driven almost entirely by a file called:\ninstall.config If you mess this up, the installer will still run, but you’ll regret it later.\nThis is roughly what I used (simplified to the important parts):\nLSF_TOP=\"/usr/local/lsf\" LSF_ADMINS=\"edauser\" LSF_CLUSTER_NAME=\"lsfcluster\" LSF_MASTER_LIST=\"lsf-master\" LSF_SERVER_HOSTS=\"lsf-master lsf-node1\" ENABLE_EGO=\"Y\" EGO_DAEMON_CONTROL=\"Y\" LSF_LOCAL_RESOURCES=\"[resource mg]\" Things that matter here:\nLSF_TOP\nThis decides everything. Binaries, configs, logs. I kept it simple.\nLSF_ADMINS\nThis user must exist. I created edauser beforehand.\nLSF_CLUSTER_NAME\nThis name shows up everywhere later. Pick once, don’t change it.\nLSF_MASTER_LIST\nThis is not optional. If this is wrong, LIM will never behave.\nLSF_SERVER_HOSTS\nThese are execution-capable hosts. Submission-only hosts do NOT go here.\nAt this stage, Fedora was not included anywhere.\nChapter 3.3: Running the Installer Only after editing install.config did I run:\n./lsfinstall -f install.config The installer:\ncreates /usr/local/lsf drops binaries under versioned directories writes configs under /usr/local/lsf/conf When it finished, I had:\n/usr/local/lsf/10.1/ /usr/local/lsf/conf/ /usr/local/lsf/work/ At this point, LSF was technically “installed”.\nThat does not mean usable.\nChapter 3.4: Environment Setup LSF does nothing unless you source its environment and start the daemons.\nOn the master and nodes:\nsource /usr/local/lsf/conf/profile.lsf Without this:\nbhosts won’t work lsid won’t work errors will be extremely misleading I added this to the admin user’s shell profile later, but initially I sourced it manually.\nTo start the daemons I used the commad:\nlsf_daemons start Chapter 4: The First Big Reality Check — Hosts Must Be Known One mistake I made early was assuming that copying the tarball to another machine and sourcing profile.lsf was enough.\nIt is not.\nLSF does not work like that.\nWhen I ran:\nbhosts on my Fedora machine, I kept getting:\nFailed in an LSF library call: LIM is down; try later Even though:\nI could ping the master LIM ports were reachable SSH worked The problem wasn’t networking.\nThe problem was that LSF didn’t know my Fedora machine existed.\nChapter 5: Teaching LSF That Fedora Exists (and What It Is) This was the first major “oh” moment.\nI kept assuming that since Fedora was only a submit host, LSF wouldn’t really care about it. That assumption was wrong.\nIf a machine is going to submit jobs, it must appear in the cluster definition file:\n/usr/local/lsf/conf/lsf.cluster. Even if:\nit never runs jobs it never runs RES it is just a login box LSF is very literal about this.\nMy Host section eventually looked like this:\nBegin Host HOSTNAME model type server RESOURCES lsf-master ! ! 1 (mg) lsf-node1 ! ! 1 () fedora ! ! 0 () End Host That server 0 is important. Fedora is not an execution host. It only submits jobs.\nOnce I added Fedora here and ran:\nlsadmin reconfig the errors changed. They didn’t disappear, but they changed, which is usually how you know you’re moving forward with LSF.\nAt this point, I thought I was done.\nI wasn’t.\nEven after Fedora was listed in lsf.cluster, I kept getting this error:\nCannot find restarted or newly submitted job's submission host and host type This one took time to understand.\nLSF doesn’t just want to know that a host exists.\nIt also wants to know what kind of host it is:\narchitecture operating system That information does not live in lsf.cluster.\nIt lives in:\n/usr/local/lsf/conf/lsf.shared This is the file almost everyone forgets.\nI had to explicitly define:\nthe host model (X86_64) the host type (LINUX) and map every host, including Fedora This is what finally fixed it:\nBegin Host HOSTNAME model type lsf-master X86_64 LINUX lsf-node1 X86_64 LINUX fedora X86_64 LINUX End Host After saving this file, I ran:\nlsadmin reconfig Only after this did bhosts stop rejecting Fedora and job submission start behaving like it should.\nThis was a big lesson for me:\nLSF will happily run with half the information missing, but it will fail in ways that make it feel like something much deeper is broken.\nChapter 6: Interactive Jobs Work… Until X11 Shows Up Once submission worked, I tried:\nbsub -Is -XF xterm And hit a whole new class of errors:\nX11 connection rejected because of wrong authentication At this point, LSF was fine.\nThe cluster was fine.\nThis was pure SSH + X11 pain.\nWhat Was Actually Missing\nThe main issues were:\nxauth not installed on all nodes X11 forwarding not consistently enabled SSH key-based auth not fully set up Installing xauth everywhere and making sure:\nX11Forwarding yes X11UseLocalhost no was set on all machines finally fixed it.\nOnly after this did:\nbsub -Is -XF -m lsf-master xterm actually open a window.\nClosing Thoughts At this point, the cluster was stable enough for what I wanted to test.\nI initially planned to go one step further and add a proper license server using FlexLM, similar to how it’s done in real EDA environments. The idea was to tie license availability into scheduling and see how LSF behaves under those constraints.\nBut I decided to stop here.\nThe goal of this setup was to understand:\nhow LSF components talk to each other how submit hosts differ from execution hosts and what minimum configuration is actually required for things to work That part was done.\nLicense servers can come later as a separate iteration.\n","wordCount":"1278","inLanguage":"en","datePublished":"2026-01-14T00:00:00Z","dateModified":"2026-01-14T00:00:00Z","author":{"@type":"Person","name":"Thamjeed"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/setting-up-community-edition-lsf/"},"publisher":{"@type":"Organization","name":"th4mjeed","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="th4mjeed (Alt + H)">th4mjeed</a><div class=logo-switches></div></div><ul id=menu><li><a href=http://localhost:1313/posts title=Posts><span>Posts</span></a></li><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/archives/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Setting up the Community Edition of IBM LSF (Load Sharing Facility)</h1><div class=post-meta><span title='2026-01-14 00:00:00 +0000 UTC'>January 14, 2026</span>&nbsp;·&nbsp;<span>6 min</span>&nbsp;·&nbsp;<span>Thamjeed</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#chapter-1-why-lsf-and-not-slurm aria-label="Chapter 1: Why LSF and Not Slurm">Chapter 1: Why LSF and Not Slurm</a></li><li><a href=#chapter-2-the-cluster-layout-i-used aria-label="Chapter 2: The Cluster Layout I Used">Chapter 2: The Cluster Layout I Used</a></li><li><a href=#chapter-3-getting-lsf aria-label="Chapter 3: Getting LSF">Chapter 3: Getting LSF</a></li><li><a href=#chapter-31-extracting-the-tarball aria-label="Chapter 3.1: Extracting the Tarball">Chapter 3.1: Extracting the Tarball</a></li><li><a href=#chapter-32-installconfig-is-the-real-installer aria-label="Chapter 3.2: install.config Is the Real Installer">Chapter 3.2: install.config Is the Real Installer</a></li><li><a href=#chapter-33-running-the-installer aria-label="Chapter 3.3: Running the Installer">Chapter 3.3: Running the Installer</a></li><li><a href=#chapter-34-environment-setup aria-label="Chapter 3.4: Environment Setup">Chapter 3.4: Environment Setup</a></li><li><a href=#chapter-4-the-first-big-reality-check--hosts-must-be-known aria-label="Chapter 4: The First Big Reality Check — Hosts Must Be Known">Chapter 4: The First Big Reality Check — Hosts Must Be Known</a></li><li><a href=#chapter-5-teaching-lsf-that-fedora-exists-and-what-it-is aria-label="Chapter 5: Teaching LSF That Fedora Exists (and What It Is)">Chapter 5: Teaching LSF That Fedora Exists (and What It Is)</a></li><li><a href=#chapter-6-interactive-jobs-work-until-x11-shows-up aria-label="Chapter 6: Interactive Jobs Work… Until X11 Shows Up">Chapter 6: Interactive Jobs Work… Until X11 Shows Up</a></li><li><a href=#closing-thoughts aria-label="Closing Thoughts">Closing Thoughts</a></li></ul></div></details></div><div class=post-content><hr><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>I wanted to understand how LSF actually works, not just at a surface “submit job, job runs” level, but the <em>real</em> mechanics. Most places that use LSF don’t document it well, and when they do, it’s written assuming you already run a production cluster.</p><p>So I decided to build a small LSF Community Edition cluster at home and treat it like an EDA-style environment: master node, execution nodes, login-style submission, interactive jobs, X11, the whole thing.</p><p>This post is not a clean guide. It’s more like notes from what actually happened.</p><hr><h2 id=chapter-1-why-lsf-and-not-slurm>Chapter 1: Why LSF and Not Slurm<a hidden class=anchor aria-hidden=true href=#chapter-1-why-lsf-and-not-slurm>#</a></h2><p>I already have experience with Slurm, and I even wrote about using Slurm as a compilation farm. Slurm is straightforward. LSF is not.</p><p>But that’s exactly why I wanted to learn it.</p><p>LSF still shows up in EDA, semiconductor companies, and older HPC environments. And the way it thinks about hosts, submission, and execution is <em>very different</em> from Slurm.</p><p>In Slurm, a login node is mostly just a machine that can talk to <code>slurmctld</code>.</p><p>In LSF, <strong>every host must be known, typed, and classified</strong>. Even submit-only machines.</p><p>That difference alone is worth learning.</p><hr><h2 id=chapter-2-the-cluster-layout-i-used>Chapter 2: The Cluster Layout I Used<a hidden class=anchor aria-hidden=true href=#chapter-2-the-cluster-layout-i-used>#</a></h2><p>I kept the setup intentionally small.</p><ul><li><p><code>lsf-master</code><br>Runs LIM, mbatchd, acts as master candidate.</p></li><li><p><code>lsf-node1</code><br>Execution node.</p></li><li><p><code>fedora</code><br>My Fedora workstation, acting as a login / submission host.</p></li></ul><p>All machines could resolve each other via <code>/etc/hosts</code>. No DNS magic.</p><p>I used Rocky Linux for <code>lsf-master</code> and <code>lsf-node1</code>, and Fedora for my submission machine.</p><hr><h2 id=chapter-3-getting-lsf>Chapter 3: Getting LSF<a hidden class=anchor aria-hidden=true href=#chapter-3-getting-lsf>#</a></h2><p>This part deserves its own chapter because this is where things <em>already</em> got weird.</p><p>There is no obvious “download LSF” button.</p><p>I actually found the <a href="https://epwt-www.mybluemix.net/software/support/trial/cst/programwebsite.wss?siteId=680&amp;h=null&amp;p=null">IBM Spectrum LSF Community Edition</a> through a Reddit post. That post linked to IBM’s site, which then required me to:</p><ol><li>Create an IBM account</li><li>Log in</li><li>Accept licensing terms</li><li>Navigate through IBM’s download portal</li></ol><p>Only <em>after</em> all that was I able to download the tarball.</p><p>What I ended up with was something like:</p><pre tabindex=0><code>
lsfsce10.2.0.15-x86_64.tar.Z
</code></pre><p>This already tells you something important:</p><ul><li>IBM ships <strong>prebuilt binaries</strong></li><li>They are tied to a <em>specific</em> glibc and kernel baseline</li></ul><p>That becomes important later when Fedora starts complaining.</p><hr><h2 id=chapter-31-extracting-the-tarball>Chapter 3.1: Extracting the Tarball<a hidden class=anchor aria-hidden=true href=#chapter-31-extracting-the-tarball>#</a></h2><p>On the master node (<code>lsf-master</code>), I extracted it under <code>/tmp</code> first:</p><pre tabindex=0><code>
tar -xvf lsfsce10.2.0.15-x86_64.tar.Z
cd  lsfsce10.2.0.15-x86_64
</code></pre><p>Inside, you don’t get a fancy installer. You get scripts.</p><p>The real entry point is:</p><pre tabindex=0><code>
./lsfinstall 
</code></pre><p>But <strong>do not run it blindly</strong>.</p><hr><h2 id=chapter-32-installconfig-is-the-real-installer>Chapter 3.2: <code>install.config</code> Is the Real Installer<a hidden class=anchor aria-hidden=true href=#chapter-32-installconfig-is-the-real-installer>#</a></h2><p>LSF installation is driven almost entirely by a file called:</p><pre tabindex=0><code>
install.config
</code></pre><p>If you mess this up, the installer <em>will still run</em>, but you’ll regret it later.</p><p>This is roughly what I used (simplified to the important parts):</p><pre tabindex=0><code>
LSF_TOP=&#34;/usr/local/lsf&#34;
LSF_ADMINS=&#34;edauser&#34;
LSF_CLUSTER_NAME=&#34;lsfcluster&#34;

LSF_MASTER_LIST=&#34;lsf-master&#34;
LSF_SERVER_HOSTS=&#34;lsf-master lsf-node1&#34;

ENABLE_EGO=&#34;Y&#34;
EGO_DAEMON_CONTROL=&#34;Y&#34;

LSF_LOCAL_RESOURCES=&#34;[resource mg]&#34;
</code></pre><p>Things that matter here:</p><ul><li><p><code>LSF_TOP</code><br>This decides <strong>everything</strong>. Binaries, configs, logs. I kept it simple.</p></li><li><p><code>LSF_ADMINS</code><br>This user <em>must exist</em>. I created <code>edauser</code> beforehand.</p></li><li><p><code>LSF_CLUSTER_NAME</code><br>This name shows up everywhere later. Pick once, don’t change it.</p></li><li><p><code>LSF_MASTER_LIST</code><br>This is <em>not optional</em>. If this is wrong, LIM will never behave.</p></li><li><p><code>LSF_SERVER_HOSTS</code><br>These are execution-capable hosts. Submission-only hosts do NOT go here.</p></li></ul><p>At this stage, <strong>Fedora was not included anywhere</strong>.</p><hr><h2 id=chapter-33-running-the-installer>Chapter 3.3: Running the Installer<a hidden class=anchor aria-hidden=true href=#chapter-33-running-the-installer>#</a></h2><p>Only after editing <code>install.config</code> did I run:</p><pre tabindex=0><code>
./lsfinstall -f install.config
</code></pre><p>The installer:</p><ul><li>creates <code>/usr/local/lsf</code></li><li>drops binaries under versioned directories</li><li>writes configs under <code>/usr/local/lsf/conf</code></li></ul><p>When it finished, I had:</p><pre tabindex=0><code>
/usr/local/lsf/10.1/
/usr/local/lsf/conf/
/usr/local/lsf/work/
</code></pre><p>At this point, LSF was technically “installed”.</p><p>That does not mean usable.</p><hr><h2 id=chapter-34-environment-setup>Chapter 3.4: Environment Setup<a hidden class=anchor aria-hidden=true href=#chapter-34-environment-setup>#</a></h2><p>LSF does <em>nothing</em> unless you source its environment and start the daemons.</p><p>On the master and nodes:</p><pre tabindex=0><code>
source /usr/local/lsf/conf/profile.lsf
</code></pre><p>Without this:</p><ul><li><code>bhosts</code> won’t work</li><li><code>lsid</code> won’t work</li><li>errors will be extremely misleading</li></ul><p>I added this to the admin user’s shell profile later, but initially I sourced it manually.</p><p>To start the daemons I used the commad:</p><pre tabindex=0><code>lsf_daemons start
</code></pre><hr><h2 id=chapter-4-the-first-big-reality-check--hosts-must-be-known>Chapter 4: The First Big Reality Check — Hosts Must Be Known<a hidden class=anchor aria-hidden=true href=#chapter-4-the-first-big-reality-check--hosts-must-be-known>#</a></h2><p>One mistake I made early was assuming that copying the tarball to another machine and sourcing <code>profile.lsf</code> was enough.</p><p>It is not.</p><p>LSF does not work like that.</p><p>When I ran:</p><pre tabindex=0><code>
bhosts
</code></pre><p>on my Fedora machine, I kept getting:</p><pre tabindex=0><code>
Failed in an LSF library call: LIM is down; try later
</code></pre><p>Even though:</p><ul><li>I could ping the master</li><li>LIM ports were reachable</li><li>SSH worked</li></ul><p>The problem wasn’t networking.</p><p>The problem was that <strong>LSF didn’t know my Fedora machine existed</strong>.</p><hr><h2 id=chapter-5-teaching-lsf-that-fedora-exists-and-what-it-is>Chapter 5: Teaching LSF That Fedora Exists (and What It Is)<a hidden class=anchor aria-hidden=true href=#chapter-5-teaching-lsf-that-fedora-exists-and-what-it-is>#</a></h2><p>This was the first major “oh” moment.</p><p>I kept assuming that since Fedora was only a submit host, LSF wouldn’t really care about it. That assumption was wrong.</p><p>If a machine is going to submit jobs, it <strong>must</strong> appear in the cluster definition file:</p><pre tabindex=0><code>
/usr/local/lsf/conf/lsf.cluster.&lt;clustername&gt;
</code></pre><p>Even if:</p><ul><li>it never runs jobs</li><li>it never runs RES</li><li>it is just a login box</li></ul><p>LSF is very literal about this.</p><p>My <code>Host</code> section eventually looked like this:</p><pre tabindex=0><code>
Begin Host
HOSTNAME    model   type    server  RESOURCES
lsf-master  !       !       1       (mg)
lsf-node1   !       !       1       ()
fedora      !       !       0       ()
End Host
</code></pre><p>That <code>server 0</code> is important. Fedora is <em>not</em> an execution host. It only submits jobs.</p><p>Once I added Fedora here and ran:</p><pre tabindex=0><code>
lsadmin reconfig
</code></pre><p>the errors changed. They didn’t disappear, but they changed, which is usually how you know you’re moving forward with LSF.</p><hr><p>At this point, I thought I was done.</p><p>I wasn’t.</p><hr><p>Even after Fedora was listed in <code>lsf.cluster</code>, I kept getting this error:</p><pre tabindex=0><code>
Cannot find restarted or newly submitted job&#39;s submission host and host type
</code></pre><p>This one took time to understand.</p><p>LSF doesn’t just want to know <strong>that</strong> a host exists.<br>It also wants to know <strong>what kind of host it is</strong>:</p><ul><li>architecture</li><li>operating system</li></ul><p>That information does <strong>not</strong> live in <code>lsf.cluster</code>.</p><p>It lives in:</p><pre tabindex=0><code>
/usr/local/lsf/conf/lsf.shared
</code></pre><p>This is the file almost everyone forgets.</p><p>I had to explicitly define:</p><ul><li>the host model (<code>X86_64</code>)</li><li>the host type (<code>LINUX</code>)</li><li>and map <em>every</em> host, including Fedora</li></ul><p>This is what finally fixed it:</p><pre tabindex=0><code>
Begin Host
HOSTNAME    model    type
lsf-master  X86_64   LINUX
lsf-node1   X86_64   LINUX
fedora      X86_64   LINUX
End Host
</code></pre><p>After saving this file, I ran:</p><pre tabindex=0><code>
lsadmin reconfig
</code></pre><p>Only after this did <code>bhosts</code> stop rejecting Fedora and job submission start behaving like it should.</p><p>This was a big lesson for me:<br>LSF will happily run with half the information missing, but it will fail in ways that make it feel like something much deeper is broken.</p><hr><h2 id=chapter-6-interactive-jobs-work-until-x11-shows-up>Chapter 6: Interactive Jobs Work… Until X11 Shows Up<a hidden class=anchor aria-hidden=true href=#chapter-6-interactive-jobs-work-until-x11-shows-up>#</a></h2><p>Once submission worked, I tried:</p><pre tabindex=0><code>
bsub -Is -XF xterm
</code></pre><p>And hit a whole new class of errors:</p><pre tabindex=0><code>
X11 connection rejected because of wrong authentication
</code></pre><p>At this point, LSF was fine.<br>The cluster was fine.</p><p>This was <strong>pure SSH + X11 pain</strong>.</p><p>What Was Actually Missing</p><p>The main issues were:</p><ul><li><code>xauth</code> not installed on all nodes</li><li>X11 forwarding not consistently enabled</li><li>SSH key-based auth not fully set up</li></ul><p>Installing <code>xauth</code> everywhere and making sure:</p><pre tabindex=0><code>
X11Forwarding yes
X11UseLocalhost no
</code></pre><p>was set on <strong>all</strong> machines finally fixed it.</p><p>Only after this did:</p><pre tabindex=0><code>
bsub -Is -XF -m lsf-master xterm
</code></pre><p>actually open a window.</p><hr><h2 id=closing-thoughts>Closing Thoughts<a hidden class=anchor aria-hidden=true href=#closing-thoughts>#</a></h2><p>At this point, the cluster was stable enough for what I wanted to test.</p><p>I initially planned to go one step further and add a proper license server using FlexLM, similar to how it’s done in real EDA environments. The idea was to tie license availability into scheduling and see how LSF behaves under those constraints.</p><p>But I decided to stop here.</p><p>The goal of this setup was to understand:</p><ul><li>how LSF components talk to each other</li><li>how submit hosts differ from execution hosts</li><li>and what minimum configuration is actually required for things to work</li></ul><p>That part was done.</p><p>License servers can come later as a separate iteration.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=http://localhost:1313/posts/setting-up-samba-ad/><span class=title>Next »</span><br><span>Setting Up Samba as an Active Directory Domain Controller on Linux</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Setting up the Community Edition of IBM LSF (Load Sharing Facility) on x" href="https://x.com/intent/tweet/?text=Setting%20up%20the%20Community%20Edition%20of%20IBM%20LSF%20%28Load%20Sharing%20Facility%29&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fsetting-up-community-edition-lsf%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setting up the Community Edition of IBM LSF (Load Sharing Facility) on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fsetting-up-community-edition-lsf%2f&amp;title=Setting%20up%20the%20Community%20Edition%20of%20IBM%20LSF%20%28Load%20Sharing%20Facility%29&amp;summary=Setting%20up%20the%20Community%20Edition%20of%20IBM%20LSF%20%28Load%20Sharing%20Facility%29&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fsetting-up-community-edition-lsf%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setting up the Community Edition of IBM LSF (Load Sharing Facility) on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fsetting-up-community-edition-lsf%2f&title=Setting%20up%20the%20Community%20Edition%20of%20IBM%20LSF%20%28Load%20Sharing%20Facility%29"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setting up the Community Edition of IBM LSF (Load Sharing Facility) on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fsetting-up-community-edition-lsf%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setting up the Community Edition of IBM LSF (Load Sharing Facility) on whatsapp" href="https://api.whatsapp.com/send?text=Setting%20up%20the%20Community%20Edition%20of%20IBM%20LSF%20%28Load%20Sharing%20Facility%29%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fsetting-up-community-edition-lsf%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setting up the Community Edition of IBM LSF (Load Sharing Facility) on telegram" href="https://telegram.me/share/url?text=Setting%20up%20the%20Community%20Edition%20of%20IBM%20LSF%20%28Load%20Sharing%20Facility%29&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fsetting-up-community-edition-lsf%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setting up the Community Edition of IBM LSF (Load Sharing Facility) on ycombinator" href="https://news.ycombinator.com/submitlink?t=Setting%20up%20the%20Community%20Edition%20of%20IBM%20LSF%20%28Load%20Sharing%20Facility%29&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fsetting-up-community-edition-lsf%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>© Thamjeed</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>